(window.webpackJsonpminesweeper=window.webpackJsonpminesweeper||[]).push([[0],{27:function(e,t,n){e.exports=n(39)},32:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"initialize",(function(){return N})),n.d(r,"sweep",(function(){return G})),n.d(r,"flag",(function(){return B})),n.d(r,"reset",(function(){return R})),n.d(r,"incrementTimer",(function(){return W}));var i={};n.r(i),n.d(i,"getGridState",(function(){return V})),n.d(i,"getGameState",(function(){return X})),n.d(i,"getTimeElapsed",(function(){return Y})),n.d(i,"getRemainingFlags",(function(){return $})),n.d(i,"getIsGridDisabled",(function(){return ee})),n.d(i,"getBoardDimensions",(function(){return te}));var o=n(0),a=n.n(o),c=n(11),l=n.n(c),s=(n(32),n(1)),d="papayawhip",u="#e2e2e2",f="#d5d5d5",b="rgba(0,0,0,0.1)",p="#0000ff",g="#008100",m="#ff1300",h="#000083",y="#810500",v="#2a9494",O="#FFFF99",j="#FF00FF",x="#ff0000",w="#ff0000",E={cell:{bright:"white",medium:"#bbbbbb",dark:"gray"}},S={background:"black",color:"red"},_=n(8),k=s.b.div.withConfig({displayName:"FakeSevenSegmentDisplay___StyledDiv",componentId:"b7s06-0"})(["",""],(function(e){return e._css2})),C=function(e){return a.a.createElement(k,{_css2:Object(s.a)(["display:flex;align-items:center;justify-content:center;background:",";color:",";width:84px;height:36px;font-size:48px;letter-spacing:-3px;font-family:'Courier New',Courier,monospace;font-weight:700;line-height:40px;padding-top:6px;border-right:1px solid ",";border-bottom:1px solid ",";border-top:1px solid ",";border-left:1px solid ",";"],S.background,S.color,E.cell.bright,E.cell.bright,E.cell.dark,E.cell.dark)},e.value.toString().padStart(3,"0"))},P=n(6),M=s.b.div.withConfig({displayName:"SmileyButton___StyledDiv",componentId:"sc-29ozcu-0"})(["",""],(function(e){return e._css2})),D=function(e){var t=Object(o.useState)(!1),n=Object(P.a)(t,2),r=n[0],i=n[1];return a.a.createElement(M,{onClick:e.onClick,onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},_css2:Object(s.a)(["background:red;width:40px;height:40px;font-size:24px;display:flex;align-items:center;justify-content:center;background:",";border-top:2px solid ",";border-left:2px solid ",";border-bottom:2px solid ",";border-right:2px solid ",";&:hover{cursor:pointer;}"],f,E.cell.bright,E.cell.bright,E.cell.dark,E.cell.dark)},r?"\ud83d\ude33":{smile:"\ud83d\ude0a",dead:"\ud83d\ude16",sunglasses:"\ud83d\ude0e"}[e.state])},F=n(10),A=n(12),z=n(17),I=n(26),T=n(3),N=Object(T.createStandardAction)("INITIALIZE")(),G=Object(T.createStandardAction)("SWEEP")(),B=Object(T.createStandardAction)("FLAG")(),R=Object(T.createAction)("RESET"),W=Object(T.createAction)("INCREMENT_TIMER");function H(e,t,n){return Array.from(Array(n)).map((function(){return Array.from(Array(t)).map((function(){return e}))}))}var L=n(2),J="mine";function q(e,t,n){var r=H("0",e,t);return function(e,t,n){var r=[];for(;r.length<n;){var i=Math.floor(Math.random()*e),o=Math.floor(Math.random()*t),a="".concat(i,"/").concat(o);r.includes(a)||r.push(a)}return r.map((function(e){var t=e.split("/"),n=Object(P.a)(t,2),r=n[0],i=n[1];return[Number(r),Number(i)]}))}(e,t,n).forEach((function(e){var t=Object(P.a)(e,2),n=t[0],i=t[1];return r[i][n]=J})),r=function(e,t,n){for(var r=Object(L.cloneDeep)(e),i=0;i<n;i++)for(var o=0;o<t;o++)"0"===e[i][o]&&(r[i][o]=Z({x:o,y:i},t,n).filter((function(t){var n=t.x,r=t.y;return e[r][n]===J})).length.toString());return r}(r,e,t)}function Z(e,t,n){var r=e.x,i=e.y;return[[r-1,i-1],[r,i-1],[r+1,i-1],[r-1,i],[r+1,i],[r-1,i+1],[r,i+1],[r+1,i+1]].filter((function(e){var r=Object(P.a)(e,2),i=r[0],o=r[1];return i>=0&&i<t&&o>=0&&o<n})).map((function(e){var t=Object(P.a)(e,2);return{x:t[0],y:t[1]}}))}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach((function(t){Object(A.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{boardWidth:10,boardHeight:10,numberOfMines:10,timeElapsed:0,board:void 0,visibility:void 0,flags:void 0,explodedMines:!1,inProgress:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(T.getType)(N):return{board:q(t.payload.width,t.payload.height,t.payload.numberOfMines),boardWidth:t.payload.width,boardHeight:t.payload.height,visibility:H(!1,t.payload.width,t.payload.height),flags:H(!1,t.payload.width,t.payload.height),explodedMines:!1,timeElapsed:0,numberOfMines:t.payload.numberOfMines,inProgress:!1};case Object(T.getType)(G):for(var n=Object(L.cloneDeep)(e.visibility),r=n.length,i=n[0].length,o=t.payload,a=(o.timestamp,Object(I.a)(o,["timestamp"])),c=[a],l=e.explodedMines;c.length>0;){var s=c.shift(),d=s.x,u=s.y,f=e.board[u][d];if("mine"===f)l=!0;else if("0"===f&&!n[u][d]){var b=Z({x:d,y:u},i,r);c=[].concat(Object(z.a)(c),Object(z.a)(b))}n[u][d]=!0}return Q({},e,{visibility:n,explodedMines:l,inProgress:!0});case Object(T.getType)(B):var p=Object(L.cloneDeep)(e.flags),g=t.payload,m=g.x,h=g.y;return p[h][m]=!p[h][m],Q({},e,{flags:p,inProgress:!0});case Object(T.getType)(R):return Q({},e,{board:q(e.boardWidth,e.boardHeight,e.numberOfMines),visibility:H(!1,e.boardWidth,e.boardHeight),flags:H(!1,e.boardWidth,e.boardHeight),explodedMines:!1,timeElapsed:0,inProgress:!1});case Object(T.getType)(W):return e.inProgress&&!e.explodedMines&&e.visibility&&!Object(L.every)(e.visibility.map((function(t,n){return Object(L.every)(t.map((function(t,r){return t&&"mine"!==e.board[n][r]||!t&&"mine"===e.board[n][r]})))})))?Q({},e,{timeElapsed:e.timeElapsed+1}):e;default:return e}},V=function(e){if(!e.visibility||!e.board||!e.flags)throw new Error("This should not be called before initialization");return e.visibility.map((function(t,n){return t.map((function(t,r){return t||e.explodedMines&&"mine"===e.board[n][r]?t&&"mine"===e.board[n][r]?"explodedMine":e.board[n][r]:e.flags[n][r]?"flagged":"hidden"}))}))},X=function(e){return e.visibility&&e.board&&e.flags&&!Object(L.every)(e.visibility.map((function(e){return Object(L.every)(e.map((function(e){return!e})))})))?e.explodedMines?"defeat":Object(L.every)(e.visibility.map((function(t,n){return Object(L.every)(t.map((function(t,r){return t&&"mine"!==e.board[n][r]||!t&&"mine"===e.board[n][r]})))})))?"victory":"inProgress":"notStarted"},Y=function(e){return e.timeElapsed},$=function(e){if(void 0===e.numberOfMines)return 0;var t=0;return e.flags&&e.flags.forEach((function(n,r){return n.forEach((function(n,i){n&&!e.visibility[r][i]&&t++}))})),e.numberOfMines-t},ee=function(e){var t=X(e);return!["inProgress","notStarted"].includes(t)},te=function(e){return{width:e.boardWidth,height:e.boardHeight}},ne=n(23),re=Object(F.createStore)(U,{},Object(ne.composeWithDevTools)()),ie=s.b.div.withConfig({displayName:"Header___StyledDiv",componentId:"sc-1lri0b3-0"})(["",""],(function(e){return e._css2})),oe=Object(_.b)((function(e){return{timeElapsed:i.getTimeElapsed(e),gameState:i.getGameState(e),remainingFlags:i.getRemainingFlags(e)}}),{resetGame:r.reset})((function(e){return a.a.createElement(ie,{_css2:Object(s.a)(["width:100%;display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;background:",";padding:4px;border:1px solid gray;"],f)},a.a.createElement(C,{value:e.timeElapsed}),a.a.createElement(D,{onClick:e.resetGame,state:{notStarted:"smile",inProgress:"smile",victory:"sunglasses",defeat:"dead"}[e.gameState]}),a.a.createElement(C,{value:e.remainingFlags}))})),ae=n(9);function ce(){var e=Object(ae.a)(["\n  width: 100%;\n  height: 100%;\n\n  &:hover {\n    background: ",";\n    cursor: pointer;\n  }\n"]);return ce=function(){return e},e}function le(){var e=Object(ae.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  border-top: 0.05px solid\n    ",";\n  border-left: 0.05px solid\n    ",";\n  border-bottom: 0.05px solid\n    ",";\n  border-right: 0.05px solid\n    ",";\n\n  width: 100%;\n  height: 100%;\n\n  font-family: 'Courier New', Courier, monospace;\n  font-weight: 1000;\n\n  background: ",";\n"]);return le=function(){return e},e}var se=function(e){var t=function(t){var n=["hidden","flagged"].includes(e.state);return a.a.createElement(de,{onClick:e.sweepCell,onContextMenu:function(t){t.preventDefault(),n&&e.toggleFlagForCell&&e.toggleFlagForCell()},background:"explodedMine"===e.state?w:n?u:f,topAndLeftBorderColor:n?E.cell.bright:E.cell.medium,bottomAndRightBorderColor:n?E.cell.dark:E.cell.medium,style:fe(e)},t.children)};return"hidden"===e.state||"0"===e.state?a.a.createElement(t,null,"0"!==e.state&&e.sweepCell&&a.a.createElement(ue,null)):"flagged"===e.state?a.a.createElement(t,null,"\u2691"):"mine"===e.state||"explodedMine"===e.state?a.a.createElement(t,null,"\ud83d\udca3"):a.a.createElement(t,null,e.state)},de=s.b.div(le(),(function(e){return e.topAndLeftBorderColor}),(function(e){return e.topAndLeftBorderColor}),(function(e){return e.bottomAndRightBorderColor}),(function(e){return e.bottomAndRightBorderColor}),(function(e){return e.background})),ue=s.b.span(ce(),b),fe=function(e){return{color:function(e){switch(e){case"1":return p;case"2":return g;case"3":return m;case"4":return h;case"5":return y;case"6":return v;case"7":return O;case"8":return j;case"flagged":return x;default:return"black"}}(e.state),fontSize:"".concat("mine"===e.state||"explodedMine"===e.state?"70%":"90%")}};function be(){var e=Object(ae.a)(["\n              display: flex;\n              height: ","px;\n            "]);return be=function(){return e},e}function pe(){var e=Object(ae.a)(["\n          border: 1px solid gray;\n          width: ","px;\n          height: ","px;\n          font-size: ","px;\n          display: flex;\n          flex-direction: column;\n          align-items: stretch;\n        "]);return pe=function(){return e},e}var ge=s.b.div.withConfig({displayName:"Grid___StyledDiv",componentId:"be89pz-0"})(["",""],(function(e){return e._css2})),me=s.b.div.withConfig({displayName:"Grid___StyledDiv2",componentId:"be89pz-1"})(["",""],(function(e){return e._css3})),he=a.a.memo((function(e){var t=e.size.cellPx*e.size.height+2,n=e.size.cellPx*e.size.width+2,r=Array.from(Array(e.size.width)),i=Array.from(Array(e.size.height));return a.a.createElement(ge,{_css2:Object(s.a)(pe(),n,t,.75*e.size.cellPx)},i.map((function(t,n){return a.a.createElement(me,{key:"row-key-".concat(n),_css3:Object(s.a)(be(),e.size.cellPx)},r.map((function(t,r){var i=e.state[n][r],o=e.disabled?{}:{toggleFlagForCell:e.remainingFlags>0||"flagged"===i?function(){return e.onCellFlag({x:r,y:n})}:void 0,sweepCell:"flagged"===i?void 0:function(){return e.onCellSweep({x:r,y:n,timestamp:Date.now()})}};return a.a.createElement(se,Object.assign({},o,{key:"cell-key-".concat(n,"-").concat(r),state:i}))})))})))}),(function(e,t){return Object(L.isEqual)(e,t)}));function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(n,!0).forEach((function(t){Object(A.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oe=Object(_.b)((function(e){return{disabled:i.getIsGridDisabled(e),remainingFlags:i.getRemainingFlags(e),size:ve({},i.getBoardDimensions(e),{cellPx:24}),state:i.getGridState(e)}}),{onCellSweep:r.sweep,onCellFlag:r.flag})(he),je=s.b.div.withConfig({displayName:"App___StyledDiv",componentId:"sc-3rr7bp-0"})(["",""],(function(e){return e._css2})),xe=s.b.div.withConfig({displayName:"App___StyledDiv2",componentId:"sc-3rr7bp-1"})(["",""],(function(e){return e._css3})),we=function(){return a.a.createElement(je,{_css2:Object(s.a)(["display:flex;align-items:center;justify-content:center;height:100vh;background:",";"],d)},a.a.createElement(xe,{_css3:Object(s.a)(["max-width:80%;display:flex;flex-direction:column;align-items:center;padding:10px;background:",";"],u)},a.a.createElement(oe,null),a.a.createElement(Oe,null)))};re.dispatch(r.initialize({width:10,height:10,numberOfMines:10})),setInterval((function(){return re.dispatch(r.incrementTimer())}),1e3),l.a.render(a.a.createElement(_.a,{store:re},a.a.createElement(we,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.9b89cde6.chunk.js.map